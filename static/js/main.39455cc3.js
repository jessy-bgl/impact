(()=>{"use strict";var e={4144:(e,t,n)=>{n.r(t),n.d(t,{default:()=>K});var r={};n.r(r),n.d(r,{common:()=>G,emissions:()=>M});var o=n(4942),i=n(7204),s=n(7251),a=n(4178),c=n(7602),l=n(6792),u=n(9385),d=n(6822),f=n(6029),h=n(6653),m=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var y=n(5004),g=n(3224),v=n(9497),j=n(1849),b=n(4953),O=n(1072),x=n(2629),w=function(e){var t=e.emissionsByCategory,n=(0,v.useTranslation)("emissions").t,r=(0,O.useTheme)().colors;return(0,x.jsxs)(j.default,{children:[(0,x.jsxs)(j.default.Header,{children:[(0,x.jsx)(j.default.Title,{children:n("category")}),(0,x.jsx)(j.default.Title,{numeric:!0,children:n("annualEmissions")}),(0,x.jsx)(j.default.Title,{numeric:!0,children:n("part")})]}),t.sort((function(e,t){return t.value-e.value})).map((function(e){return(0,x.jsxs)(j.default.Row,{children:[(0,x.jsx)(j.default.Cell,{style:{alignItems:"center"},children:n(`categories.${e.type}`)}),(0,x.jsxs)(j.default.Cell,{numeric:!0,children:[e.value," kgCO2"]}),(0,x.jsx)(j.default.Cell,{numeric:!0,children:(0,x.jsx)(u.default,{style:{flex:1,width:30,height:30,borderRadius:15,backgroundColor:e.color,flexDirection:"row",alignItems:"center",justifyContent:"center"},children:(0,x.jsxs)(b.default,{style:{color:r.background,fontSize:12},children:[e.part,"%"]})})})]},e.type)}))]})},T=n(6326),S=n(9220),k=function(e){var t=e.emissionsByCategory,n=(0,v.useTranslation)("emissions").t,r=(0,O.useTheme)().colors,o=t.reduce((function(e,t){return e+t.value}),0);return(0,x.jsxs)("svg",{viewBox:"0 0 250 250",children:[(0,x.jsx)(T.default,{colorScale:t.map((function(e){return e.color})),standalone:!1,width:250,height:250,radius:110,innerRadius:60,labelRadius:75,style:{labels:{fontSize:17}},data:t.map((function(e){return{x:e.icon,y:e.value}}))}),(0,x.jsx)(S.VictoryLabel,{textAnchor:"middle",style:{fontSize:20,fill:r.onBackground},x:125,y:125,text:`${(o/1e3).toFixed(2)}\ntCO2/${n("year")}`})]})},C=n(5729),P=function(){var e=(0,v.useTranslation)("emissions").t,t=(0,O.useTheme)().colors;return(0,x.jsx)(C.default,{icon:"grass",mode:"contained",textColor:"white",contentStyle:{height:45},labelStyle:{color:t.onPrimary},children:e("estimate")})},D=n(7278),E=function(){var e=(0,v.useTranslation)("emissions").t,t=(0,O.useTheme)().colors;return(0,x.jsx)(D.default,{mode:"flat",style:{width:"100%",justifyContent:"center",alignItems:"center",padding:10,borderRadius:5,borderColor:t.primary,borderStyle:"solid",borderWidth:1},children:(0,x.jsx)(b.default,{children:e("2030goal")})})},R=function(){var e=(0,v.useTranslation)("emissions").t;return(0,x.jsx)(b.default,{variant:"titleLarge",style:{paddingTop:10,textAlign:"center"},children:e("impactDistributionTitle")})},B=n(5671),I=n(3144),N=function(e){return e.TRANSPORT="transport",e.HOUSING="housing",e.FOOD="food",e.GOODS="goods",e.OTHER="other",e}({}),W=(0,I.default)((function e(t,n,r){switch((0,B.default)(this,e),this.type=t,this.value=n,this.part=r,this.color="",this.icon="",t){case N.TRANSPORT:this.color="sandybrown",this.icon="\ud83d\ude97";break;case N.FOOD:this.color="plum",this.icon="\ud83c\udf72";break;case N.HOUSING:this.color="cadetblue",this.icon="\ud83c\udfe0";break;case N.GOODS:this.color="khaki",this.icon="\ud83d\udecd\ufe0f";break;case N.OTHER:this.color="mediumslateblue",this.icon="\ud83c\udf43"}})),_=function(){function e(){(0,B.default)(this,e)}return(0,I.default)(e,[{key:"fetchEmissionsByCategory",value:function(){return[new W(N.GOODS,1e3,20),new W(N.TRANSPORT,2500,20),new W(N.OTHER,500,20),new W(N.FOOD,2e3,20),new W(N.HOUSING,1800,20)]}}]),e}(),A=function(e){return{useFetchEmissionsByCategory:(t=e.emissionsRepository,function(){return t.fetchEmissionsByCategory()})};var t}({emissionsRepository:new _}),z=(0,y.createContext)(A),F=function(){var e=(0,(0,y.useContext)(z).useFetchEmissionsByCategory)();return(0,x.jsxs)(g.default,{contentContainerStyle:{justifyContent:"center",alignItems:"center"},children:[(0,x.jsx)(u.default,{children:(0,x.jsx)(R,{})}),(0,x.jsx)(u.default,{style:{width:300},children:(0,x.jsx)(k,{emissionsByCategory:e})}),(0,x.jsx)(u.default,{style:{width:"90%"},children:(0,x.jsx)(E,{})}),(0,x.jsx)(u.default,{style:{width:"90%"},children:(0,x.jsx)(w,{emissionsByCategory:e})}),(0,x.jsx)(u.default,{style:{width:"90%",marginTop:10,marginBottom:10},children:(0,x.jsx)(P,{})})]})},H=n(3152);const G=JSON.parse('{"emissions":"Emissions"}'),M=JSON.parse('{"impactDistributionTitle":"R\xe9partition de mon impact par cat\xe9gorie","2030goal":"Objectif : 2 tCO2/an en 2030","estimate":"Estimer mon impact carbone","year":"an","category":"Cat\xe9gorie","annualEmissions":"Emissions annuelles","part":"Proportion","categories":{"transport":"Transports","housing":"Logement","food":"Alimentation","goods":"Biens","other":"Divers"}}');var U={fr:r};H.default.use(v.initReactI18next).init({resources:U,lng:"fr",interpolation:{escapeValue:!1}});H.default;function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=(0,h.default)(),V=$($({},f.MD3DarkTheme),{},{colors:$($({},f.MD3DarkTheme.colors),{},{primary:"#59B158",onPrimary:"#111",inversePrimary:"#fff"})}),q=l.default.create({container:{flex:1,alignItems:"center"},content:{flex:1,width:"100%",maxWidth:550}});const K=(0,a.default)((function(){return(0,x.jsx)(d.default,{theme:V,children:(0,x.jsx)(s.default,{children:(0,x.jsx)(c.default,{style:q.container,children:(0,x.jsx)(u.default,{style:q.content,children:(0,x.jsxs)(J.Navigator,{initialRouteName:"Emissions",activeColor:V.colors.primary,theme:{colors:{secondaryContainer:void 0}},children:[(0,x.jsx)(J.Screen,{name:"Emissions",component:F,options:{tabBarIcon:function(e){var t=e.focused,n=e.color;return(0,x.jsx)(i.default,{name:t?"home":"home-outline",size:24,color:n})}}}),(0,x.jsx)(J.Screen,{name:"TODO",component:F,options:{tabBarIcon:function(e){var t=e.color;return(0,x.jsx)(i.default,{name:"tools",size:24,color:t})}}}),(0,x.jsx)(J.Screen,{name:"TODO2",component:F,options:{tabBarIcon:function(e){var t=e.color;return(0,x.jsx)(i.default,{name:"tools",size:24,color:t})}}}),(0,x.jsx)(J.Screen,{name:"TODO3",component:F,options:{tabBarIcon:function(e){var t=e.color;return(0,x.jsx)(i.default,{name:"tools",size:24,color:t})}}})]})})})})})}));!function(e){if("serviceWorker"in navigator){if(new URL("/impact",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="/impact/service-worker.js";m?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):p(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):p(t,e)}))}}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,(()=>{var e=[];n.O=(t,r,o,i)=>{if(!r){var s=1/0;for(u=0;u<e.length;u++){for(var[r,o,i]=e[u],a=!0,c=0;c<r.length;c++)(!1&i||s>=i)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(a=!1,i<s&&(s=i));if(a){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,o,i]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/impact/",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,i,[s,a,c]=r,l=0;if(s.some((t=>0!==e[t]))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(c)var u=c(n)}for(t&&t(r);l<s.length;l++)i=s[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[246],(()=>n(1559)));r=n.O(r)})();
//# sourceMappingURL=main.39455cc3.js.map