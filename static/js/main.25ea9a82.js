(()=>{"use strict";var e={4144:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var r={};n.r(r),n.d(r,{common:()=>U,emissions:()=>$});var o=n(4942),i=n(7204),s=n(6415),a=n(925),l=n(5705),c=n(7146),u=n.n(c),d=n(4178),f=n(7602),h=n(6792),m=n(9385),p=n(4659),y=n(6029),g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function v(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var b=n(5004),j=n(3224),O=n(9497),x=n(9328),w=n(4953),T=n(1072),S=n(2629),k=function(e){var t=e.emissionsByCategory,n=(0,O.useTranslation)("emissions").t,r=(0,T.useTheme)().colors;return(0,S.jsxs)(x.default,{children:[(0,S.jsxs)(x.default.Header,{children:[(0,S.jsx)(x.default.Title,{children:n("category")}),(0,S.jsx)(x.default.Title,{numeric:!0,children:n("annualEmissions")}),(0,S.jsx)(x.default.Title,{numeric:!0,children:n("part")})]}),t.sort((function(e,t){return t.value-e.value})).map((function(e){return(0,S.jsxs)(x.default.Row,{children:[(0,S.jsx)(x.default.Cell,{style:{alignItems:"center"},children:n(`categories.${e.type}`)}),(0,S.jsxs)(x.default.Cell,{numeric:!0,children:[e.value," kgCO2"]}),(0,S.jsx)(x.default.Cell,{numeric:!0,children:(0,S.jsx)(m.default,{style:{flex:1,width:30,height:30,borderRadius:15,backgroundColor:e.color,flexDirection:"row",alignItems:"center",justifyContent:"center"},children:(0,S.jsxs)(w.default,{style:{color:r.background,fontSize:12},children:[e.part,"%"]})})})]},e.type)}))]})},C=n(6326),P=n(9220),B=function(e){var t=e.emissionsByCategory,n=(0,O.useTranslation)("emissions").t,r=(0,T.useTheme)().colors,o=t.reduce((function(e,t){return e+t.value}),0);return(0,S.jsxs)("svg",{viewBox:"0 0 250 250",children:[(0,S.jsx)(C.default,{colorScale:t.map((function(e){return e.color})),standalone:!1,width:250,height:250,radius:110,innerRadius:60,labelRadius:75,style:{labels:{fontSize:17}},data:t.map((function(e){return{x:e.icon,y:e.value}}))}),(0,S.jsx)(P.VictoryLabel,{textAnchor:"middle",style:{fontSize:20,fill:r.onBackground},x:125,y:125,text:`${(o/1e3).toFixed(2)}\ntCO2/${n("year")}`})]})},D=n(5729),E=function(){var e=(0,O.useTranslation)("emissions").t,t=(0,T.useTheme)().colors;return(0,S.jsx)(D.default,{icon:"grass",mode:"contained",textColor:"white",contentStyle:{height:45},labelStyle:{color:t.onPrimary},children:e("estimate")})},R=n(6077),I=function(){var e=(0,O.useTranslation)("emissions").t,t=(0,T.useTheme)().colors;return(0,S.jsx)(R.default,{mode:"flat",style:{width:"100%",justifyContent:"center",alignItems:"center",padding:10,borderRadius:5,borderColor:t.primary,borderStyle:"solid",borderWidth:1},children:(0,S.jsx)(w.default,{children:e("2030goal")})})},N=function(){var e=(0,O.useTranslation)("emissions").t;return(0,S.jsx)(w.default,{variant:"titleLarge",style:{paddingTop:10,textAlign:"center"},children:e("impactDistributionTitle")})},W=n(5671),_=n(3144),A=function(e){return e.TRANSPORT="transport",e.HOUSING="housing",e.FOOD="food",e.GOODS="goods",e.OTHER="other",e}({}),z=(0,_.default)((function e(t,n,r){switch((0,W.default)(this,e),this.type=t,this.value=n,this.part=r,this.color="",this.icon="",t){case A.TRANSPORT:this.color="sandybrown",this.icon="\ud83d\ude97";break;case A.FOOD:this.color="plum",this.icon="\ud83c\udf72";break;case A.HOUSING:this.color="cadetblue",this.icon="\ud83c\udfe0";break;case A.GOODS:this.color="khaki",this.icon="\ud83d\udecd\ufe0f";break;case A.OTHER:this.color="mediumslateblue",this.icon="\ud83c\udf43"}})),F=function(){function e(){(0,W.default)(this,e)}return(0,_.default)(e,[{key:"fetchEmissionsByCategory",value:function(){return[new z(A.GOODS,1e3,20),new z(A.TRANSPORT,2500,20),new z(A.OTHER,500,20),new z(A.FOOD,2e3,20),new z(A.HOUSING,1800,20)]}}]),e}(),H=function(e){return{useFetchEmissionsByCategory:(t=e.emissionsRepository,function(){return t.fetchEmissionsByCategory()})};var t}({emissionsRepository:new F}),G=(0,b.createContext)(H),L=function(){var e=(0,(0,b.useContext)(G).useFetchEmissionsByCategory)();return(0,S.jsxs)(j.default,{contentContainerStyle:{justifyContent:"center",alignItems:"center"},children:[(0,S.jsx)(m.default,{children:(0,S.jsx)(N,{})}),(0,S.jsx)(m.default,{style:{width:300},children:(0,S.jsx)(B,{emissionsByCategory:e})}),(0,S.jsx)(m.default,{style:{width:"90%"},children:(0,S.jsx)(I,{})}),(0,S.jsx)(m.default,{style:{width:"90%"},children:(0,S.jsx)(k,{emissionsByCategory:e})}),(0,S.jsx)(m.default,{style:{width:"90%",marginTop:10,marginBottom:10},children:(0,S.jsx)(E,{})})]})},M=n(3152);const U=JSON.parse('{"emissions":"Emissions"}'),$=JSON.parse('{"impactDistributionTitle":"R\xe9partition de mon impact par cat\xe9gorie","2030goal":"Objectif : 2 tCO2/an en 2030","estimate":"Estimer mon impact carbone","year":"an","category":"Cat\xe9gorie","annualEmissions":"Emissions annuelles","part":"Proportion","categories":{"transport":"Transports","housing":"Logement","food":"Alimentation","goods":"Biens","other":"Divers"}}');var J={fr:r};M.default.use(O.initReactI18next).init({resources:J,lng:"fr",interpolation:{escapeValue:!1}});M.default;function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=(0,s.default)(),Q=q(q({},y.MD3DarkTheme),{},{colors:q(q({},y.MD3DarkTheme.colors),{},{primary:"#59B158",onPrimary:"#111",inversePrimary:"#fff"})}),X=u()(a.default,Q),Y=h.default.create({container:{flex:1,alignItems:"center"},content:{flex:1,width:"100%",maxWidth:550}});const Z=(0,d.default)((function(){return(0,S.jsx)(p.default,{theme:X,children:(0,S.jsx)(l.default,{theme:X,children:(0,S.jsx)(f.default,{style:Y.container,children:(0,S.jsx)(m.default,{style:Y.content,children:(0,S.jsxs)(K.Navigator,{initialRouteName:"Emissions",screenOptions:{tabBarLabelPosition:"below-icon",tabBarStyle:{height:50,paddingBottom:5}},children:[(0,S.jsx)(K.Screen,{name:"Emissions",component:L,options:{tabBarIcon:function(e){var t=e.focused,n=e.color;return(0,S.jsx)(i.default,{name:t?"home":"home-outline",size:24,color:n})}}}),(0,S.jsx)(K.Screen,{name:"TODO",component:L,options:{tabBarIcon:function(e){var t=e.color;return(0,S.jsx)(i.default,{name:"tools",size:24,color:t})}}}),(0,S.jsx)(K.Screen,{name:"TODO2",component:L,options:{tabBarIcon:function(e){var t=e.color;return(0,S.jsx)(i.default,{name:"tools",size:24,color:t})}}}),(0,S.jsx)(K.Screen,{name:"TODO3",component:L,options:{tabBarIcon:function(e){var t=e.color;return(0,S.jsx)(i.default,{name:"tools",size:24,color:t})}}})]})})})})})}));!function(e){if("serviceWorker"in navigator){if(new URL("/impact",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="/impact/service-worker.js";g?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):v(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):v(t,e)}))}}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,(()=>{var e=[];n.O=(t,r,o,i)=>{if(!r){var s=1/0;for(u=0;u<e.length;u++){for(var[r,o,i]=e[u],a=!0,l=0;l<r.length;l++)(!1&i||s>=i)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(a=!1,i<s&&(s=i));if(a){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,o,i]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/impact/",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,i,[s,a,l]=r,c=0;if(s.some((t=>0!==e[t]))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)var u=l(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[188],(()=>n(1559)));r=n.O(r)})();
//# sourceMappingURL=main.25ea9a82.js.map